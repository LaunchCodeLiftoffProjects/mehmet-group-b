<!DOCTYpE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments::head"></head>
<body>
    <header th:replace="fragments::header"></header>
    <style th:inline="text">
<!--        body {-->
<!--            background: url([[@{/images/Background.jpg}]]);-->
<!--                   no-repeat center center fixed;-->
<!--            background-size: cover;-->
<!--        }-->
    </style>
    <main role="main" class="container" id="main">

        <strong>First name</strong>
        <p th:text="${user.firstName}"></p>
        <strong>Last name</strong>
        <p th:text="${user.lastName}"></p>
        <strong>Email</strong>
        <p th:text="${user.email}"></p>
        <strong>State</strong>
        <p th:text="${user.state}"></p>
        <strong>City</strong>
        <p th:text="${user.city}"></p>
        <strong>phone number</strong>
        <p th:text="${user.phoneNumber}"></p>
<!--        <strong>Username</strong>-->
<!--        <p th:text="${user.username}"></p>-->

        <div th:if="${user.therapist} != null">
            <br>
            <br>
            <strong>Your Gender</strong>
            <p th:text="${user.therapist.gender.getGender()}"></p>
            <strong>Your Hours</strong>
            <p th:text="${user.therapist.hoursOfOperation.startConverted()}"></p>
            <strong>Your Stop Time</strong>
            <p
                    th:text="${user.therapist.hoursOfOperation.finishConverted}"></p>

        </div>


        <div th:unless="${user.therapist} != null">
            <br>
            <br>
            <strong>Are you a therapist? Sign up now to provide services.</strong>
            <a th:href="@{/therapistsignup/}">
                Yes</a>
        </div>

        <strong>Appointment?</strong>

        <div th:if="${user.appointment} != null">
            <p th:text="${user.appointment.getTherapist().getFirstName()}"></p>
            <table>
                <tr>
                    <td>
                    <p th:text="'Your appointment with ' + ${user.appointment.getTherapist().getFirstName()} + ' is at '"></p>
                        <strong th:text="${user.appointment.timeConverter()}"></strong>
                    </td>
                </tr>
                <tr>

                </tr>
            </table>




            <form method="post" data-confirm="Are you sure you want to cancel your appointment?">
                <button id="deleteBtn" type="submit"  th:text="'Cancel appointment?'"
                       th:name="appointmentId" th:value="${user.appointment.id}">
                </button>

            </form>
        </div>
    </main>




<!--    //for alert box confirming appointment cancellation-->
        <script type="text/javascript">
        $(document).on('submit', 'form[data-confirm]', function(e){
            if(!confirm($(this).data('confirm'))){
                e.stopImmediatePropagation();
                e.preventDefault();
            }
        });
        </script>
</body>
</html>